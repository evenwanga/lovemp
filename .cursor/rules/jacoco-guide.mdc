---
description:
globs:
alwaysApply: true
---
# JaCoCo测试覆盖率规则指南

## 概述
本项目使用JaCoCo作为Java代码覆盖率分析工具，用于衡量测试套件覆盖代码情况，提高代码质量和可靠性。
详细说明请参考[测试覆盖率工具指南](mdc:doc/6、测试覆盖率工具指南.md)。

## Maven配置
项目中的JaCoCo配置位于pom.xml文件中，主要包括:
- prepare-agent: 设置JaCoCo运行时代理
- report: 在测试后生成报告
- check: 覆盖率检查目标

## 覆盖率标准
项目采用以下覆盖率标准:

| 代码类型 | 指令覆盖率目标 | 分支覆盖率目标 |
|---------|-------------|-------------|
| 核心业务逻辑 | ≥90% | ≥85% |
| 工具类 | ≥85% | ≥80% |
| API接口层 | ≥80% | ≥75% |
| 数据访问层 | ≥75% | ≥70% |

## 执行测试与报告
执行以下命令生成覆盖率报告:
```bash
mvn clean test jacoco:report
```

生成的报告位于各模块的`target/site/jacoco/index.html`目录。

## 报告中文化
项目提供了报告中文化方案，包括:
1. 浏览器控制台脚本注入
2. 书签法
3. 自动化集成中文报告

## 相关文件
- [测试覆盖率工具指南](mdc:doc/6、测试覆盖率工具指南.md): 详细的JaCoCo使用说明